'use client'
import{a as i}from"./chunk-TQICYAQN.js";import{a as u,b as l}from"./chunk-SM4SOJMX.js";import{Command as c}from"cmdk";import{useAtom as f,useSetAtom as y}from"jotai";import{createContext as E,forwardRef as v,useEffect as p}from"react";import{jsx as t,jsxs as g}from"react/jsx-runtime";var C=E({}),A=({query:n,range:r})=>{let m=y(u,{store:i}),a=y(l,{store:i});return p(()=>{m(n)},[n,m]),p(()=>{a(r)},[r,a]),p(()=>{let e=["ArrowUp","ArrowDown","Enter"],s=o=>{if(e.includes(o.key)){o.preventDefault();let d=document.querySelector("#slash-command");return d&&d.dispatchEvent(new KeyboardEvent("keydown",{key:o.key,cancelable:!0,bubbles:!0})),!1}};return document.addEventListener("keydown",s),()=>{document.removeEventListener("keydown",s)}},[]),t(C.Consumer,{children:e=>t(e.Out,{})})},w=v(({children:n,className:r,...m},a)=>{let[e,s]=f(u);return t(C.Consumer,{children:o=>t(o.In,{children:g(c,{ref:a,onKeyDown:d=>{d.stopPropagation()},id:"slash-command",className:r,...m,children:[t(c.Input,{value:e,onValueChange:s,style:{display:"none"}}),n]})})})}),D=c.List;w.displayName="EditorCommand";export{C as a,A as b,w as c,D as d};
