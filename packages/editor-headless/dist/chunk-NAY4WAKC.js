import {a as a$1}from'./chunk-TQICYAQN.js';import {a,b}from'./chunk-SM4SOJMX.js';import {Command}from'cmdk';import {useAtom,useSetAtom}from'jotai';import {createContext,forwardRef,useEffect}from'react';import {jsx,jsxs}from'react/jsx-runtime';var C=createContext({}),A=({query:n,range:r})=>{let m=useSetAtom(a,{store:a$1}),a$2=useSetAtom(b,{store:a$1});return useEffect(()=>{m(n);},[n,m]),useEffect(()=>{a$2(r);},[r,a$2]),useEffect(()=>{let e=["ArrowUp","ArrowDown","Enter"],s=o=>{if(e.includes(o.key)){o.preventDefault();let d=document.querySelector("#slash-command");return d&&d.dispatchEvent(new KeyboardEvent("keydown",{key:o.key,cancelable:!0,bubbles:!0})),!1}};return document.addEventListener("keydown",s),()=>{document.removeEventListener("keydown",s);}},[]),jsx(C.Consumer,{children:e=>jsx(e.Out,{})})},w=forwardRef(({children:n,className:r,...m},a$1)=>{let[e,s]=useAtom(a);return jsx(C.Consumer,{children:o=>jsx(o.In,{children:jsxs(Command,{ref:a$1,onKeyDown:d=>{d.stopPropagation();},id:"slash-command",className:r,...m,children:[jsx(Command.Input,{value:e,onValueChange:s,style:{display:"none"}}),n]})})})}),D=Command.List;w.displayName="EditorCommand";export{C as a,A as b,w as c,D as d};