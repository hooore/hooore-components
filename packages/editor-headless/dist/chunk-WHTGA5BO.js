import {b}from'./chunk-FNRRE7JS.js';import {Extension}from'@tiptap/core';import {ReactRenderer}from'@tiptap/react';import a from'@tiptap/suggestion';import d from'tippy.js';var y=Extension.create({name:"slash-command",addOptions(){return {suggestion:{char:"/",command:({editor:t,range:n,props:o})=>{o.command({editor:t,range:n});}}}},addProseMirrorPlugins(){return [a({editor:this.editor,...this.options.suggestion})]}}),h=t=>{let n=null,o=null;return {onStart:e=>{n=new ReactRenderer(b,{props:e,editor:e.editor});let{selection:r}=e.editor.state;if(r.$from.node(r.$from.depth).type.name==="codeBlock")return !1;o=d("body",{getReferenceClientRect:e.clientRect,appendTo:()=>t?t.current:document.body,content:n.element,showOnCreate:!0,interactive:!0,trigger:"manual",placement:"bottom-start"});},onUpdate:e=>{n?.updateProps(e),o?.[0]?.setProps({getReferenceClientRect:e.clientRect});},onKeyDown:e=>e.event.key==="Escape"?(o?.[0]?.hide(),!0):n?.ref?.onKeyDown(e),onExit:()=>{o?.[0]?.destroy(),n?.destroy();}}},E=t=>t,C=t=>{if(["ArrowUp","ArrowDown","Enter"].includes(t.key)&&document.querySelector("#slash-command"))return !0};export{y as a,h as b,E as c,C as d};