'use strict';var cmdk=require('cmdk'),jotai=require('jotai'),react=require('react'),jsxRuntime=require('react/jsx-runtime');var u=jotai.atom(""),y=jotai.atom(null);var d=jotai.createStore();var C=react.createContext({}),P=({query:n,range:r})=>{let m=jotai.useSetAtom(u,{store:d}),a=jotai.useSetAtom(y,{store:d});return react.useEffect(()=>{m(n);},[n,m]),react.useEffect(()=>{a(r);},[r,a]),react.useEffect(()=>{let e=["ArrowUp","ArrowDown","Enter"],s=o=>{if(e.includes(o.key)){o.preventDefault();let p=document.querySelector("#slash-command");return p&&p.dispatchEvent(new KeyboardEvent("keydown",{key:o.key,cancelable:!0,bubbles:!0})),!1}};return document.addEventListener("keydown",s),()=>{document.removeEventListener("keydown",s);}},[]),jsxRuntime.jsx(C.Consumer,{children:e=>jsxRuntime.jsx(e.Out,{})})},w=react.forwardRef(({children:n,className:r,...m},a)=>{let[e,s]=jotai.useAtom(u);return jsxRuntime.jsx(C.Consumer,{children:o=>jsxRuntime.jsx(o.In,{children:jsxRuntime.jsxs(cmdk.Command,{ref:a,onKeyDown:p=>{p.stopPropagation();},id:"slash-command",className:r,...m,children:[jsxRuntime.jsx(cmdk.Command.Input,{value:e,onValueChange:s,style:{display:"none"}}),n]})})})}),q=cmdk.Command.List;w.displayName="EditorCommand";exports.EditorCommand=w;exports.EditorCommandList=q;exports.EditorCommandOut=P;exports.EditorCommandTunnelContext=C;