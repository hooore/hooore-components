'use client'
"use strict";"use client";var c=Object.defineProperty;var R=Object.getOwnPropertyDescriptor;var w=Object.getOwnPropertyNames;var x=Object.prototype.hasOwnProperty;var A=(o,e)=>{for(var n in e)c(o,n,{get:e[n],enumerable:!0})},b=(o,e,n,a)=>{if(e&&typeof e=="object"||typeof e=="function")for(let t of w(e))!x.call(o,t)&&t!==n&&c(o,t,{get:()=>e[t],enumerable:!(a=R(e,t))||a.enumerable});return o};var h=o=>b(c({},"__esModule",{value:!0}),o);var T={};A(T,{EditorCommand:()=>g,EditorCommandList:()=>S,EditorCommandOut:()=>k,EditorCommandTunnelContext:()=>C});module.exports=h(T);var i=require("cmdk"),p=require("jotai"),r=require("react");var l=require("jotai"),y=(0,l.atom)(""),E=(0,l.atom)(null);var v=require("jotai"),f=(0,v.createStore)();var m=require("react/jsx-runtime"),C=(0,r.createContext)({}),k=({query:o,range:e})=>{let n=(0,p.useSetAtom)(y,{store:f}),a=(0,p.useSetAtom)(E,{store:f});return(0,r.useEffect)(()=>{n(o)},[o,n]),(0,r.useEffect)(()=>{a(e)},[e,a]),(0,r.useEffect)(()=>{let t=["ArrowUp","ArrowDown","Enter"],u=s=>{if(t.includes(s.key)){s.preventDefault();let d=document.querySelector("#slash-command");return d&&d.dispatchEvent(new KeyboardEvent("keydown",{key:s.key,cancelable:!0,bubbles:!0})),!1}};return document.addEventListener("keydown",u),()=>{document.removeEventListener("keydown",u)}},[]),(0,m.jsx)(C.Consumer,{children:t=>(0,m.jsx)(t.Out,{})})},g=(0,r.forwardRef)(({children:o,className:e,...n},a)=>{let[t,u]=(0,p.useAtom)(y);return(0,m.jsx)(C.Consumer,{children:s=>(0,m.jsx)(s.In,{children:(0,m.jsxs)(i.Command,{ref:a,onKeyDown:d=>{d.stopPropagation()},id:"slash-command",className:e,...n,children:[(0,m.jsx)(i.Command.Input,{value:t,onValueChange:u,style:{display:"none"}}),o]})})})}),S=i.Command.List;g.displayName="EditorCommand";0&&(module.exports={EditorCommand,EditorCommandList,EditorCommandOut,EditorCommandTunnelContext});
