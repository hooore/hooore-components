'use strict';var components=require('@hooore/editor-headless/components'),lucideReact=require('lucide-react'),reactSlot=require('@radix-ui/react-slot'),classVarianceAuthority=require('class-variance-authority'),p=require('react'),utils=require('@hooore/utils'),jsxRuntime=require('react/jsx-runtime'),r=require('@radix-ui/react-popover');function _interopNamespace(e){if(e&&e.__esModule)return e;var n=Object.create(null);if(e){Object.keys(e).forEach(function(k){if(k!=='default'){var d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:true,get:function(){return e[k]}});}})}n.default=e;return Object.freeze(n)}var p__namespace=/*#__PURE__*/_interopNamespace(p);var r__namespace=/*#__PURE__*/_interopNamespace(r);var B=classVarianceAuthority.cva("editor-inline-flex editor-items-center editor-justify-center editor-whitespace-nowrap editor-rounded-md editor-text-sm editor-font-medium editor-ring-offset-background editor-transition-colors focus-visible:editor-outline-none focus-visible:editor-ring-2 focus-visible:editor-ring-ring focus-visible:editor-ring-offset-2 disabled:editor-pointer-events-none disabled:editor-opacity-50",{variants:{variant:{default:"editor-bg-primary editor-text-primary-foreground hover:editor-bg-primary/90",destructive:"editor-bg-destructive editor-text-destructive-foreground hover:editor-bg-destructive/90",outline:"editor-border editor-border-input editor-bg-background hover:editor-bg-accent hover:editor-text-accent-foreground",secondary:"editor-bg-secondary editor-text-secondary-foreground hover:editor-bg-secondary/80",ghost:"hover:editor-bg-accent hover:editor-text-accent-foreground",link:"editor-text-primary editor-underline-offset-4 hover:editor-underline"},size:{default:"editor-h-10 editor-px-4 editor-py-2",sm:"editor-h-9 editor-rounded-md editor-px-3",lg:"editor-h-11 editor-rounded-md editor-px-8",icon:"editor-h-10 editor-w-10"}},defaultVariants:{variant:"default",size:"default"}}),m=p__namespace.forwardRef(({className:a,variant:d,size:o,asChild:l=!1,...s},e)=>jsxRuntime.jsx(l?reactSlot.Slot:"button",{className:utils.cn(B({variant:d,size:o,className:a})),ref:e,...s}));m.displayName="Button";var f=r__namespace.Root,g=r__namespace.Trigger,c=p__namespace.forwardRef(({className:a,align:d="center",sideOffset:o=4,...l},s)=>jsxRuntime.jsx(r__namespace.Portal,{children:jsxRuntime.jsx(r__namespace.Content,{ref:s,align:d,sideOffset:o,className:utils.cn("editor-bg-popover editor-text-popover-foreground data-[state=open]:editor-animate-in data-[state=closed]:editor-animate-out data-[state=closed]:editor-fade-out-0 data-[state=open]:editor-fade-in-0 data-[state=closed]:editor-zoom-out-95 data-[state=open]:editor-zoom-in-95 data-[side=bottom]:editor-slide-in-from-top-2 data-[side=left]:editor-slide-in-from-right-2 data-[side=right]:editor-slide-in-from-left-2 data-[side=top]:editor-slide-in-from-bottom-2 editor-z-50 editor-w-72 editor-rounded-md editor-border editor-p-4 editor-shadow-md editor-outline-none",a),...l})}));c.displayName=r__namespace.Content.displayName;var b=[{name:"Default",color:"var(--novel-black)"},{name:"Purple",color:"#9333EA"},{name:"Red",color:"#E00000"},{name:"Yellow",color:"#EAB308"},{name:"Blue",color:"#2563EB"},{name:"Green",color:"#008A00"},{name:"Orange",color:"#FFA500"},{name:"Pink",color:"#BA4081"},{name:"Gray",color:"#A8A29E"}],x=[{name:"Default",color:"var(--novel-highlight-default)"},{name:"Purple",color:"var(--novel-highlight-purple)"},{name:"Red",color:"var(--novel-highlight-red)"},{name:"Yellow",color:"var(--novel-highlight-yellow)"},{name:"Blue",color:"var(--novel-highlight-blue)"},{name:"Green",color:"var(--novel-highlight-green)"},{name:"Orange",color:"var(--novel-highlight-orange)"},{name:"Pink",color:"var(--novel-highlight-pink)"},{name:"Gray",color:"var(--novel-highlight-gray)"}],F=({open:a,onOpenChange:d})=>{let{editor:o}=components.useEditor();if(!o)return null;let l=b.find(({color:e})=>o.isActive("textStyle",{color:e})),s=x.find(({color:e})=>o.isActive("highlight",{color:e}));return jsxRuntime.jsxs(f,{modal:!0,open:a,onOpenChange:d,children:[jsxRuntime.jsx(g,{asChild:!0,children:jsxRuntime.jsxs(m,{size:"sm",className:"editor-gap-2 editor-rounded-none",variant:"ghost",children:[jsxRuntime.jsx("span",{className:"editor-rounded-sm editor-px-1",style:{color:l?.color,backgroundColor:s?.color},children:"A"}),jsxRuntime.jsx(lucideReact.ChevronDown,{className:"editor-h-4 editor-w-4"})]})}),jsxRuntime.jsxs(c,{sideOffset:5,className:"editor-my-1 editor-flex editor-max-h-80 editor-w-48 editor-flex-col editor-overflow-hidden editor-overflow-y-auto editor-rounded editor-border editor-p-1 editor-shadow-xl",align:"start",children:[jsxRuntime.jsxs("div",{className:"editor-flex editor-flex-col",children:[jsxRuntime.jsx("div",{className:"text-muted-foreground editor-my-1 editor-px-2 editor-text-sm editor-font-semibold",children:"Color"}),b.map(({name:e,color:n})=>jsxRuntime.jsx(components.EditorBubbleItem,{onSelect:()=>{o.commands.unsetColor(),e!=="Default"&&o.chain().focus().setColor(n||"").run(),d(!1);},className:"hover:bg-accent editor-flex editor-cursor-pointer editor-items-center editor-justify-between editor-px-2 editor-py-1 editor-text-sm",children:jsxRuntime.jsxs("div",{className:"editor-flex editor-items-center editor-gap-2",children:[jsxRuntime.jsx("div",{className:"editor-rounded-sm editor-border editor-px-2 editor-py-px editor-font-medium",style:{color:n},children:"A"}),jsxRuntime.jsx("span",{children:e})]})},e))]}),jsxRuntime.jsxs("div",{children:[jsxRuntime.jsx("div",{className:"text-muted-foreground editor-my-1 editor-px-2 editor-text-sm editor-font-semibold",children:"Background"}),x.map(({name:e,color:n})=>jsxRuntime.jsxs(components.EditorBubbleItem,{onSelect:()=>{o.commands.unsetHighlight(),e!=="Default"&&o.chain().focus().setHighlight({color:n}).run(),d(!1);},className:"hover:bg-accent editor-flex editor-cursor-pointer editor-items-center editor-justify-between editor-px-2 editor-py-1 editor-text-sm",children:[jsxRuntime.jsxs("div",{className:"editor-flex editor-items-center editor-gap-2",children:[jsxRuntime.jsx("div",{className:"editor-rounded-sm editor-border editor-px-2 editor-py-px editor-font-medium",style:{backgroundColor:n},children:"A"}),jsxRuntime.jsx("span",{children:e})]}),o.isActive("highlight",{color:n})&&jsxRuntime.jsx(lucideReact.Check,{className:"editor-h-4 editor-w-4"})]},e))]})]})]})};exports.ColorSelector=F;