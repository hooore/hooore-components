'use client'
"use strict";var L=Object.create;var s=Object.defineProperty;var w=Object.getOwnPropertyDescriptor;var R=Object.getOwnPropertyNames;var T=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var H=(e,o)=>{for(var i in o)s(e,i,{get:o[i],enumerable:!0})},v=(e,o,i,d)=>{if(o&&typeof o=="object"||typeof o=="function")for(let r of R(o))!k.call(e,r)&&r!==i&&s(e,r,{get:()=>o[r],enumerable:!(d=w(o,r))||d.enumerable});return e};var m=(e,o,i)=>(i=e!=null?L(T(e)):{},v(o||!e||!e.__esModule?s(i,"default",{value:e,enumerable:!0}):i,e)),I=e=>v(s({},"__esModule",{value:!0}),e);var z={};H(z,{NodeSelector:()=>S});module.exports=I(z);var c=require("@hooore/editor-headless/components"),t=require("lucide-react"),B=require("@radix-ui/react-popover");var g=require("@radix-ui/react-slot"),b=require("class-variance-authority"),h=m(require("react"),1),P=require("@hooore/utils"),N=require("react/jsx-runtime"),E=(0,b.cva)("editor-inline-flex editor-items-center editor-justify-center editor-whitespace-nowrap editor-rounded-md editor-text-sm editor-font-medium editor-ring-offset-background editor-transition-colors focus-visible:editor-outline-none focus-visible:editor-ring-2 focus-visible:editor-ring-ring focus-visible:editor-ring-offset-2 disabled:editor-pointer-events-none disabled:editor-opacity-50",{variants:{variant:{default:"editor-bg-primary editor-text-primary-foreground hover:editor-bg-primary/90",destructive:"editor-bg-destructive editor-text-destructive-foreground hover:editor-bg-destructive/90",outline:"editor-border editor-border-input editor-bg-background hover:editor-bg-accent hover:editor-text-accent-foreground",secondary:"editor-bg-secondary editor-text-secondary-foreground hover:editor-bg-secondary/80",ghost:"hover:editor-bg-accent hover:editor-text-accent-foreground",link:"editor-text-primary editor-underline-offset-4 hover:editor-underline"},size:{default:"editor-h-10 editor-px-4 editor-py-2",sm:"editor-h-9 editor-rounded-md editor-px-3",lg:"editor-h-11 editor-rounded-md editor-px-8",icon:"editor-h-10 editor-w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=h.forwardRef(({className:e,variant:o,size:i,asChild:d=!1,...r},u)=>(0,N.jsx)(d?g.Slot:"button",{className:(0,P.cn)(E({variant:o,size:i,className:e})),ref:u,...r}));l.displayName="Button";var a=m(require("@radix-ui/react-popover"),1),y=m(require("react"),1),x=require("@hooore/utils"),p=require("react/jsx-runtime");var A=a.Trigger,f=y.forwardRef(({className:e,align:o="center",sideOffset:i=4,...d},r)=>(0,p.jsx)(a.Portal,{children:(0,p.jsx)(a.Content,{ref:r,align:o,sideOffset:i,className:(0,x.cn)("editor-bg-popover editor-text-popover-foreground data-[state=open]:editor-animate-in data-[state=closed]:editor-animate-out data-[state=closed]:editor-fade-out-0 data-[state=open]:editor-fade-in-0 data-[state=closed]:editor-zoom-out-95 data-[state=open]:editor-zoom-in-95 data-[side=bottom]:editor-slide-in-from-top-2 data-[side=left]:editor-slide-in-from-right-2 data-[side=right]:editor-slide-in-from-left-2 data-[side=top]:editor-slide-in-from-bottom-2 editor-z-50 editor-w-72 editor-rounded-md editor-border editor-p-4 editor-shadow-md editor-outline-none",e),...d})}));f.displayName=a.Content.displayName;var n=require("react/jsx-runtime"),C=[{name:"Text",icon:t.TextIcon,command:e=>{if(e)return e.chain().focus().clearNodes().run()},isActive:e=>{if(e)return e.isActive("paragraph")&&!e.isActive("bulletList")&&!e.isActive("orderedList")}},{name:"Heading 1",icon:t.Heading1,command:e=>{if(e)return e.chain().focus().clearNodes().toggleHeading({level:1}).run()},isActive:e=>{if(e)return e.isActive("heading",{level:1})}},{name:"Heading 2",icon:t.Heading2,command:e=>{if(e)return e.chain().focus().clearNodes().toggleHeading({level:2}).run()},isActive:e=>{if(e)return e.isActive("heading",{level:2})}},{name:"Heading 3",icon:t.Heading3,command:e=>{if(e)return e.chain().focus().clearNodes().toggleHeading({level:3}).run()},isActive:e=>{if(e)return e.isActive("heading",{level:3})}},{name:"To-do List",icon:t.CheckSquare,command:e=>{if(e)return e.chain().focus().clearNodes().toggleTaskList().run()},isActive:e=>{if(e)return e.isActive("taskItem")}},{name:"Bullet List",icon:t.ListOrdered,command:e=>{if(e)return e.chain().focus().clearNodes().toggleBulletList().run()},isActive:e=>{if(e)return e.isActive("bulletList")}},{name:"Numbered List",icon:t.ListOrdered,command:e=>{if(e)return e.chain().focus().clearNodes().toggleOrderedList().run()},isActive:e=>{if(e)return e.isActive("orderedList")}},{name:"Quote",icon:t.TextQuote,command:e=>{if(e)return e.chain().focus().clearNodes().toggleBlockquote().run()},isActive:e=>{if(e)return e.isActive("blockquote")}},{name:"Code",icon:t.Code,command:e=>{if(e)return e.chain().focus().clearNodes().toggleCodeBlock().run()},isActive:e=>{if(e)return e.isActive("codeBlock")}}],S=({open:e,onOpenChange:o})=>{let{editor:i}=(0,c.useEditor)();if(!i)return null;let d=C.filter(r=>r.isActive(i)).pop()??{name:"Multiple"};return(0,n.jsxs)(B.Popover,{modal:!0,open:e,onOpenChange:o,children:[(0,n.jsx)(A,{asChild:!0,className:"hover:editor-bg-accent editor-gap-2 editor-rounded-none editor-border-none focus:editor-ring-0",children:(0,n.jsxs)(l,{size:"sm",variant:"ghost",className:"editor-gap-2",children:[(0,n.jsx)("span",{className:"editor-whitespace-nowrap editor-text-sm",children:d.name}),(0,n.jsx)(t.ChevronDown,{className:"editor-h-4 editor-w-4"})]})}),(0,n.jsx)(f,{sideOffset:5,align:"start",className:"editor-w-48 editor-p-1",children:C.map(r=>(0,n.jsxs)(c.EditorBubbleItem,{onSelect:u=>{r.command(u),o(!1)},className:"hover:editor-bg-accent editor-flex editor-cursor-pointer editor-items-center editor-justify-between editor-rounded-sm editor-px-2 editor-py-1 editor-text-sm",children:[(0,n.jsxs)("div",{className:"editor-flex editor-items-center editor-space-x-2",children:[(0,n.jsx)("div",{className:"editor-rounded-sm editor-border editor-p-1",children:(0,n.jsx)(r.icon,{className:"editor-h-3 editor-w-3"})}),(0,n.jsx)("span",{children:r.name})]}),d.name===r.name&&(0,n.jsx)(t.Check,{className:"editor-h-4 editor-w-4"})]},r.name))})]})};0&&(module.exports={NodeSelector});
