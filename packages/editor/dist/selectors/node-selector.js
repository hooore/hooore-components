'use strict';var components=require('@hooore/editor-headless/components'),lucideReact=require('lucide-react'),o=require('@radix-ui/react-popover'),reactSlot=require('@radix-ui/react-slot'),classVarianceAuthority=require('class-variance-authority'),m=require('react'),utils=require('@hooore/utils'),jsxRuntime=require('react/jsx-runtime');function _interopNamespace(e){if(e&&e.__esModule)return e;var n=Object.create(null);if(e){Object.keys(e).forEach(function(k){if(k!=='default'){var d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:true,get:function(){return e[k]}});}})}n.default=e;return Object.freeze(n)}var o__namespace=/*#__PURE__*/_interopNamespace(o);var m__namespace=/*#__PURE__*/_interopNamespace(m);var N=classVarianceAuthority.cva("editor-inline-flex editor-items-center editor-justify-center editor-whitespace-nowrap editor-rounded-md editor-text-sm editor-font-medium editor-ring-offset-background editor-transition-colors focus-visible:editor-outline-none focus-visible:editor-ring-2 focus-visible:editor-ring-ring focus-visible:editor-ring-offset-2 disabled:editor-pointer-events-none disabled:editor-opacity-50",{variants:{variant:{default:"editor-bg-primary editor-text-primary-foreground hover:editor-bg-primary/90",destructive:"editor-bg-destructive editor-text-destructive-foreground hover:editor-bg-destructive/90",outline:"editor-border editor-border-input editor-bg-background hover:editor-bg-accent hover:editor-text-accent-foreground",secondary:"editor-bg-secondary editor-text-secondary-foreground hover:editor-bg-secondary/80",ghost:"hover:editor-bg-accent hover:editor-text-accent-foreground",link:"editor-text-primary editor-underline-offset-4 hover:editor-underline"},size:{default:"editor-h-10 editor-px-4 editor-py-2",sm:"editor-h-9 editor-rounded-md editor-px-3",lg:"editor-h-11 editor-rounded-md editor-px-8",icon:"editor-h-10 editor-w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=m__namespace.forwardRef(({className:e,variant:i,size:n,asChild:d=!1,...t},s)=>jsxRuntime.jsx(d?reactSlot.Slot:"button",{className:utils.cn(N({variant:i,size:n,className:e})),ref:s,...t}));c.displayName="Button";var f=o__namespace.Trigger,u=m__namespace.forwardRef(({className:e,align:i="center",sideOffset:n=4,...d},t)=>jsxRuntime.jsx(o__namespace.Portal,{children:jsxRuntime.jsx(o__namespace.Content,{ref:t,align:i,sideOffset:n,className:utils.cn("editor-bg-popover editor-text-popover-foreground data-[state=open]:editor-animate-in data-[state=closed]:editor-animate-out data-[state=closed]:editor-fade-out-0 data-[state=open]:editor-fade-in-0 data-[state=closed]:editor-zoom-out-95 data-[state=open]:editor-zoom-in-95 data-[side=bottom]:editor-slide-in-from-top-2 data-[side=left]:editor-slide-in-from-right-2 data-[side=right]:editor-slide-in-from-left-2 data-[side=top]:editor-slide-in-from-bottom-2 editor-z-50 editor-w-72 editor-rounded-md editor-border editor-p-4 editor-shadow-md editor-outline-none",e),...d})}));u.displayName=o__namespace.Content.displayName;var g=[{name:"Text",icon:lucideReact.TextIcon,command:e=>{if(e)return e.chain().focus().clearNodes().run()},isActive:e=>{if(e)return e.isActive("paragraph")&&!e.isActive("bulletList")&&!e.isActive("orderedList")}},{name:"Heading 1",icon:lucideReact.Heading1,command:e=>{if(e)return e.chain().focus().clearNodes().toggleHeading({level:1}).run()},isActive:e=>{if(e)return e.isActive("heading",{level:1})}},{name:"Heading 2",icon:lucideReact.Heading2,command:e=>{if(e)return e.chain().focus().clearNodes().toggleHeading({level:2}).run()},isActive:e=>{if(e)return e.isActive("heading",{level:2})}},{name:"Heading 3",icon:lucideReact.Heading3,command:e=>{if(e)return e.chain().focus().clearNodes().toggleHeading({level:3}).run()},isActive:e=>{if(e)return e.isActive("heading",{level:3})}},{name:"To-do List",icon:lucideReact.CheckSquare,command:e=>{if(e)return e.chain().focus().clearNodes().toggleTaskList().run()},isActive:e=>{if(e)return e.isActive("taskItem")}},{name:"Bullet List",icon:lucideReact.ListOrdered,command:e=>{if(e)return e.chain().focus().clearNodes().toggleBulletList().run()},isActive:e=>{if(e)return e.isActive("bulletList")}},{name:"Numbered List",icon:lucideReact.ListOrdered,command:e=>{if(e)return e.chain().focus().clearNodes().toggleOrderedList().run()},isActive:e=>{if(e)return e.isActive("orderedList")}},{name:"Quote",icon:lucideReact.TextQuote,command:e=>{if(e)return e.chain().focus().clearNodes().toggleBlockquote().run()},isActive:e=>{if(e)return e.isActive("blockquote")}},{name:"Code",icon:lucideReact.Code,command:e=>{if(e)return e.chain().focus().clearNodes().toggleCodeBlock().run()},isActive:e=>{if(e)return e.isActive("codeBlock")}}],Y=({open:e,onOpenChange:i})=>{let{editor:n}=components.useEditor();if(!n)return null;let d=g.filter(t=>t.isActive(n)).pop()??{name:"Multiple"};return jsxRuntime.jsxs(o.Popover,{modal:!0,open:e,onOpenChange:i,children:[jsxRuntime.jsx(f,{asChild:!0,className:"hover:editor-bg-accent editor-gap-2 editor-rounded-none editor-border-none focus:editor-ring-0",children:jsxRuntime.jsxs(c,{size:"sm",variant:"ghost",className:"editor-gap-2",children:[jsxRuntime.jsx("span",{className:"editor-whitespace-nowrap editor-text-sm",children:d.name}),jsxRuntime.jsx(lucideReact.ChevronDown,{className:"editor-h-4 editor-w-4"})]})}),jsxRuntime.jsx(u,{sideOffset:5,align:"start",className:"editor-w-48 editor-p-1",children:g.map(t=>jsxRuntime.jsxs(components.EditorBubbleItem,{onSelect:s=>{t.command(s),i(!1);},className:"hover:editor-bg-accent editor-flex editor-cursor-pointer editor-items-center editor-justify-between editor-rounded-sm editor-px-2 editor-py-1 editor-text-sm",children:[jsxRuntime.jsxs("div",{className:"editor-flex editor-items-center editor-space-x-2",children:[jsxRuntime.jsx("div",{className:"editor-rounded-sm editor-border editor-p-1",children:jsxRuntime.jsx(t.icon,{className:"editor-h-3 editor-w-3"})}),jsxRuntime.jsx("span",{children:t.name})]}),d.name===t.name&&jsxRuntime.jsx(lucideReact.Check,{className:"editor-h-4 editor-w-4"})]},t.name))})]})};exports.NodeSelector=Y;