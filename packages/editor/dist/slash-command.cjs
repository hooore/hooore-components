'use client'
"use strict";var d=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var f=Object.getOwnPropertyNames;var w=Object.prototype.hasOwnProperty;var T=(e,t)=>{for(var o in t)d(e,o,{get:t[o],enumerable:!0})},b=(e,t,o,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of f(t))!w.call(e,n)&&n!==o&&d(e,n,{get:()=>t[n],enumerable:!(r=h(t,n))||r.enumerable});return e};var k=e=>b(d({},"__esModule",{value:!0}),e);var z={};T(z,{slashCommand:()=>R,suggestionItems:()=>p});module.exports=k(z);var s=require("@hooore/editor-headless/extensions"),i=require("lucide-react");var u=require("@hooore/editor-headless/plugins"),c=require("sonner"),y=e=>{let t=fetch("/api/upload",{method:"POST",headers:{"content-type":e?.type||"application/octet-stream","x-vercel-filename":e?.name||"image.png"},body:e});return new Promise((o,r)=>{c.toast.promise(t.then(async n=>{if(n.status===200){let{url:l}=await n.json(),m=new Image;m.src=l,m.onload=()=>{o(l)}}else throw n.status===401?(o(e),new Error("`BLOB_READ_WRITE_TOKEN` environment variable not found, reading image locally instead.")):new Error("Error uploading image. Please try again.")}),{loading:"Uploading image...",success:"Image uploaded successfully.",error:n=>(r(n),n.message)})})},g=(0,u.createImageUpload)({onUpload:y,validateFn:e=>e.type.includes("image/")?e.size/1024/1024>20?(c.toast.error("File size too big (max 20MB)."),!1):!0:(c.toast.error("File type not supported."),!1)});var a=require("react/jsx-runtime"),p=(0,s.createSuggestionItems)([{title:"Text",description:"Just start typing with plain text.",searchTerms:["p","paragraph"],icon:(0,a.jsx)(i.Text,{size:18}),command:({editor:e,range:t})=>{e.chain().focus().deleteRange(t).toggleNode("paragraph","paragraph").run()}},{title:"To-do List",description:"Track tasks with a to-do list.",searchTerms:["todo","task","list","check","checkbox"],icon:(0,a.jsx)(i.CheckSquare,{size:18}),command:({editor:e,range:t})=>{e.chain().focus().deleteRange(t).toggleTaskList().run()}},{title:"Heading 1",description:"Big section heading.",searchTerms:["title","big","large"],icon:(0,a.jsx)(i.Heading1,{size:18}),command:({editor:e,range:t})=>{e.chain().focus().deleteRange(t).setNode("heading",{level:1}).run()}},{title:"Heading 2",description:"Medium section heading.",searchTerms:["subtitle","medium"],icon:(0,a.jsx)(i.Heading2,{size:18}),command:({editor:e,range:t})=>{e.chain().focus().deleteRange(t).setNode("heading",{level:2}).run()}},{title:"Heading 3",description:"Small section heading.",searchTerms:["subtitle","small"],icon:(0,a.jsx)(i.Heading3,{size:18}),command:({editor:e,range:t})=>{e.chain().focus().deleteRange(t).setNode("heading",{level:3}).run()}},{title:"Bullet List",description:"Create a simple bullet list.",searchTerms:["unordered","point"],icon:(0,a.jsx)(i.List,{size:18}),command:({editor:e,range:t})=>{e.chain().focus().deleteRange(t).toggleBulletList().run()}},{title:"Numbered List",description:"Create a list with numbering.",searchTerms:["ordered"],icon:(0,a.jsx)(i.ListOrdered,{size:18}),command:({editor:e,range:t})=>{e.chain().focus().deleteRange(t).toggleOrderedList().run()}},{title:"Quote",description:"Capture a quote.",searchTerms:["blockquote"],icon:(0,a.jsx)(i.TextQuote,{size:18}),command:({editor:e,range:t})=>e.chain().focus().deleteRange(t).toggleNode("paragraph","paragraph").toggleBlockquote().run()},{title:"Code",description:"Capture a code snippet.",searchTerms:["codeblock"],icon:(0,a.jsx)(i.Code,{size:18}),command:({editor:e,range:t})=>e.chain().focus().deleteRange(t).toggleCodeBlock().run()},{title:"Image",description:"Upload an image from your computer.",searchTerms:["photo","picture","media"],icon:(0,a.jsx)(i.ImageIcon,{size:18}),command:({editor:e,range:t})=>{e.chain().focus().deleteRange(t).run();let o=document.createElement("input");o.type="file",o.accept="image/*",o.onchange=async()=>{let r=o?.files?.[0];if(r){let n=e.view.state.selection.from;g(r,e.view,n)}},o.click()}},{title:"Youtube",description:"Embed a Youtube video.",searchTerms:["video","youtube","embed"],icon:(0,a.jsx)(i.Youtube,{size:18}),command:({editor:e,range:t})=>{let o=prompt("Please enter Youtube Video Link"),r=new RegExp(/^((?:https?:)?\/\/)?((?:www|m)\.)?((?:youtube\.com|youtu.be))(\/(?:[\w-]+\?v=|embed\/|v\/)?)([\w-]+)(\S+)?$/);o&&(r.test(o)?e.chain().focus().deleteRange(t).setYoutubeVideo({src:o}).run():o!==null&&alert("Please enter a correct Youtube Video Link"))}},{title:"Twitter",description:"Embed a Tweet.",searchTerms:["twitter","embed"],icon:(0,a.jsx)(i.Twitter,{size:18}),command:({editor:e,range:t})=>{let o=prompt("Please enter Twitter Link"),r=new RegExp(/^https?:\/\/(www\.)?x\.com\/([a-zA-Z0-9_]{1,15})(\/status\/(\d+))?(\/\S*)?$/);o&&(r.test(o)?e.chain().focus().deleteRange(t).setTweet({src:o}).run():o!==null&&alert("Please enter a correct Twitter Link"))}}]),R=s.Command.configure({suggestion:{items:()=>p,render:s.renderItems}});0&&(module.exports={slashCommand,suggestionItems});
