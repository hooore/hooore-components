'use strict';var extensions=require('@hooore/editor-headless/extensions'),lucideReact=require('lucide-react'),plugins=require('@hooore/editor-headless/plugins'),sonner=require('sonner'),jsxRuntime=require('react/jsx-runtime');var m=e=>{let t=fetch("/api/upload",{method:"POST",headers:{"content-type":e?.type||"application/octet-stream","x-vercel-filename":e?.name||"image.png"},body:e});return new Promise((i,n)=>{sonner.toast.promise(t.then(async a=>{if(a.status===200){let{url:s}=await a.json(),c=new Image;c.src=s,c.onload=()=>{i(s);};}else throw a.status===401?(i(e),new Error("`BLOB_READ_WRITE_TOKEN` environment variable not found, reading image locally instead.")):new Error("Error uploading image. Please try again.")}),{loading:"Uploading image...",success:"Image uploaded successfully.",error:a=>(n(a),a.message)});})},d=plugins.createImageUpload({onUpload:m,validateFn:e=>e.type.includes("image/")?e.size/1024/1024>20?(sonner.toast.error("File size too big (max 20MB)."),!1):!0:(sonner.toast.error("File type not supported."),!1)});var E=extensions.createSuggestionItems([{title:"Text",description:"Just start typing with plain text.",searchTerms:["p","paragraph"],icon:jsxRuntime.jsx(lucideReact.Text,{size:18}),command:({editor:e,range:t})=>{e.chain().focus().deleteRange(t).toggleNode("paragraph","paragraph").run();}},{title:"To-do List",description:"Track tasks with a to-do list.",searchTerms:["todo","task","list","check","checkbox"],icon:jsxRuntime.jsx(lucideReact.CheckSquare,{size:18}),command:({editor:e,range:t})=>{e.chain().focus().deleteRange(t).toggleTaskList().run();}},{title:"Heading 1",description:"Big section heading.",searchTerms:["title","big","large"],icon:jsxRuntime.jsx(lucideReact.Heading1,{size:18}),command:({editor:e,range:t})=>{e.chain().focus().deleteRange(t).setNode("heading",{level:1}).run();}},{title:"Heading 2",description:"Medium section heading.",searchTerms:["subtitle","medium"],icon:jsxRuntime.jsx(lucideReact.Heading2,{size:18}),command:({editor:e,range:t})=>{e.chain().focus().deleteRange(t).setNode("heading",{level:2}).run();}},{title:"Heading 3",description:"Small section heading.",searchTerms:["subtitle","small"],icon:jsxRuntime.jsx(lucideReact.Heading3,{size:18}),command:({editor:e,range:t})=>{e.chain().focus().deleteRange(t).setNode("heading",{level:3}).run();}},{title:"Bullet List",description:"Create a simple bullet list.",searchTerms:["unordered","point"],icon:jsxRuntime.jsx(lucideReact.List,{size:18}),command:({editor:e,range:t})=>{e.chain().focus().deleteRange(t).toggleBulletList().run();}},{title:"Numbered List",description:"Create a list with numbering.",searchTerms:["ordered"],icon:jsxRuntime.jsx(lucideReact.ListOrdered,{size:18}),command:({editor:e,range:t})=>{e.chain().focus().deleteRange(t).toggleOrderedList().run();}},{title:"Quote",description:"Capture a quote.",searchTerms:["blockquote"],icon:jsxRuntime.jsx(lucideReact.TextQuote,{size:18}),command:({editor:e,range:t})=>e.chain().focus().deleteRange(t).toggleNode("paragraph","paragraph").toggleBlockquote().run()},{title:"Code",description:"Capture a code snippet.",searchTerms:["codeblock"],icon:jsxRuntime.jsx(lucideReact.Code,{size:18}),command:({editor:e,range:t})=>e.chain().focus().deleteRange(t).toggleCodeBlock().run()},{title:"Image",description:"Upload an image from your computer.",searchTerms:["photo","picture","media"],icon:jsxRuntime.jsx(lucideReact.ImageIcon,{size:18}),command:({editor:e,range:t})=>{e.chain().focus().deleteRange(t).run();let i=document.createElement("input");i.type="file",i.accept="image/*",i.onchange=async()=>{let n=i?.files?.[0];if(n){let a=e.view.state.selection.from;d(n,e.view,a);}},i.click();}},{title:"Youtube",description:"Embed a Youtube video.",searchTerms:["video","youtube","embed"],icon:jsxRuntime.jsx(lucideReact.Youtube,{size:18}),command:({editor:e,range:t})=>{let i=prompt("Please enter Youtube Video Link"),n=new RegExp(/^((?:https?:)?\/\/)?((?:www|m)\.)?((?:youtube\.com|youtu.be))(\/(?:[\w-]+\?v=|embed\/|v\/)?)([\w-]+)(\S+)?$/);i&&(n.test(i)?e.chain().focus().deleteRange(t).setYoutubeVideo({src:i}).run():i!==null&&alert("Please enter a correct Youtube Video Link"));}},{title:"Twitter",description:"Embed a Tweet.",searchTerms:["twitter","embed"],icon:jsxRuntime.jsx(lucideReact.Twitter,{size:18}),command:({editor:e,range:t})=>{let i=prompt("Please enter Twitter Link"),n=new RegExp(/^https?:\/\/(www\.)?x\.com\/([a-zA-Z0-9_]{1,15})(\/status\/(\d+))?(\/\S*)?$/);i&&(n.test(i)?e.chain().focus().deleteRange(t).setTweet({src:i}).run():i!==null&&alert("Please enter a correct Twitter Link"));}}]),H=extensions.Command.configure({suggestion:{items:()=>E,render:extensions.renderItems}});exports.slashCommand=H;exports.suggestionItems=E;